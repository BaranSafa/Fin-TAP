{% extends "base.html" %}
{% block title %}Fin-TAP - Dashboard{% endblock %}
{% block header_title %}Piyasa Komuta Merkezi{% endblock %}

{% block content %}
<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6" id="market-cards">
    <div class="bg-gray-800 p-4 rounded-lg shadow animate-pulse">
        <div class="h-4 bg-gray-700 rounded w-1/2 mb-2"></div>
        <div class="h-6 bg-gray-700 rounded w-3/4"></div>
    </div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    
    <div class="lg:col-span-2 bg-gray-800 p-6 rounded-lg shadow-lg">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold text-cyan-400 flex items-center gap-2">
                <span id="chart-title">AAPL</span> PerformansÄ±
            </h2>
            
            <select id="dashboard-ticker-select" class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block p-2">
                {% for ticker in stocks %}
                <option value="{{ ticker }}">{{ ticker }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="relative h-80 w-full">
            <canvas id="marketChart"></canvas>
        </div>
    </div>

    <div class="bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col">
        <h2 class="text-xl font-semibold mb-4 text-gray-200">HÄ±zlÄ± Ä°ÅŸlemler</h2>
        
        <div class="space-y-3 flex-1">
            <a href="/predict" class="block p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition group">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="font-bold text-cyan-400">DetaylÄ± Tahmin</h3>
                        <p class="text-xs text-gray-400">AI ile gelecek 14 gÃ¼nÃ¼ analiz et</p>
                    </div>
                    <span class="text-2xl group-hover:translate-x-1 transition">ðŸš€</span>
                </div>
            </a>

            <a href="/suggestion" class="block p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition group">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="font-bold text-green-400">YatÄ±rÄ±m FÄ±rsatlarÄ±</h3>
                        <p class="text-xs text-gray-400">En yÃ¼ksek potansiyelli 3 hisse</p>
                    </div>
                    <span class="text-2xl group-hover:translate-x-1 transition">ðŸ’¡</span>
                </div>
            </a>
            
            <div class="mt-6 p-4 border border-gray-700 rounded-lg bg-gray-900/50">
                <h4 class="text-sm font-semibold text-gray-400 mb-2">Sistem Durumu</h4>
                <div class="flex justify-between text-sm mb-1">
                    <span>Takip Edilen:</span>
                    <span class="text-white">{{ stocks|length }} Hisse</span>
                </div>
                <div class="flex justify-between text-sm">
                    <span>AI Motoru:</span>
                    <span class="text-green-500">Aktif</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/home.js') }}"></script>
{% endblock %}